# YesLocker Production Environment Configuration
# Copy this file to .env.production and fill in your actual values

# ========================================
# Supabase Configuration
# ========================================

# Supabase Project Settings
SUPABASE_PROJECT_ID=your-project-id-here
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database Configuration
SUPABASE_DB_PASSWORD=your-secure-db-password

# Supabase CLI Access Token (for deployment)
SUPABASE_ACCESS_TOKEN=your-access-token-here

# ========================================
# SMS Service Configuration (Tencent Cloud)
# ========================================

# Tencent Cloud SMS Settings
TENCENT_SECRET_ID=your-secret-id
TENCENT_SECRET_KEY=your-secret-key
TENCENT_SMS_APP_ID=your-app-id
TENCENT_SMS_SIGN_NAME=your-sign-name

# SMS Template IDs
TENCENT_SMS_TEMPLATE_ID_LOGIN=your-login-template-id
TENCENT_SMS_TEMPLATE_ID_REGISTER=your-register-template-id

# ========================================
# Application Configuration
# ========================================

# Environment
NODE_ENV=production
ENVIRONMENT=production

# Application URLs
APP_URL=https://your-domain.com
ADMIN_URL=https://your-domain.com/admin

# ========================================
# Security Settings
# ========================================

# JWT Configuration
JWT_SECRET=your-very-secure-jwt-secret-key-here
JWT_EXPIRY=28800  # 8 hours in seconds

# Password Security
BCRYPT_ROUNDS=12

# ========================================
# Monitoring and Logging
# ========================================

# Enable production monitoring
ENABLE_MONITORING=true
LOG_LEVEL=info

# Error Tracking (optional)
# SENTRY_DSN=your-sentry-dsn-here

# ========================================
# Performance Configuration
# ========================================

# Caching
CACHE_DURATION=300000  # 5 minutes in milliseconds
REQUEST_TIMEOUT=10000   # 10 seconds in milliseconds

# Rate Limiting
RATE_LIMIT_WINDOW=60000  # 1 minute in milliseconds
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# Feature Flags
# ========================================

# Enable/disable features
ENABLE_SMS_VERIFICATION=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true

# Admin Features
ENABLE_BULK_OPERATIONS=true
ENABLE_DATA_EXPORT=true

# ========================================
# Third Party Integrations
# ========================================

# WeChat Mini Program (if needed)
# WECHAT_APP_ID=your-wechat-app-id
# WECHAT_APP_SECRET=your-wechat-app-secret

# Payment Integration (if needed)
# PAYMENT_PROVIDER=alipay
# ALIPAY_APP_ID=your-alipay-app-id
# ALIPAY_PRIVATE_KEY=your-alipay-private-key

# ========================================
# Backup and Recovery
# ========================================

# Database Backup
ENABLE_AUTO_BACKUP=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM UTC

# File Storage Backup
BACKUP_STORAGE_BUCKET=your-backup-bucket

# ========================================
# Deployment Configuration
# ========================================

# Vercel Configuration
VERCEL_PROJECT_ID=your-vercel-project-id
VERCEL_ORG_ID=your-vercel-org-id
VERCEL_TOKEN=your-vercel-token

# GitHub Actions (if using)
GITHUB_TOKEN=your-github-token

# ========================================
# Domain and SSL
# ========================================

# Custom Domain
CUSTOM_DOMAIN=your-domain.com
SSL_CERTIFICATE_PATH=/path/to/ssl/cert
SSL_PRIVATE_KEY_PATH=/path/to/ssl/key

# ========================================
# Database Connection Pool
# ========================================

# Connection pooling for high traffic
DB_POOL_SIZE=20
DB_MAX_CONNECTIONS=100
DB_CONNECTION_TIMEOUT=30000

# ========================================
# File Upload Configuration
# ========================================

# File upload limits
MAX_FILE_SIZE=50MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf

# Storage configuration
STORAGE_PROVIDER=supabase
STORAGE_BUCKET=yeslocker-uploads

# ========================================
# Email Configuration (if needed)
# ========================================

# Email service (optional)
# EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-email-password
# EMAIL_FROM=noreply@your-domain.com

# ========================================
# Analytics and Tracking
# ========================================

# Google Analytics (optional)
# GA_TRACKING_ID=your-ga-tracking-id

# User behavior tracking
ENABLE_USER_ANALYTICS=true
ANALYTICS_DATA_RETENTION_DAYS=365

# ========================================
# Security Headers and CORS
# ========================================

# CORS Configuration
CORS_ORIGIN=https://your-domain.com,https://your-domain.vercel.app
CORS_CREDENTIALS=true

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_RATE_LIMITING=true

# ========================================
# Maintenance Mode
# ========================================

# Maintenance configuration
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="系统维护中，请稍后再试"
MAINTENANCE_ALLOWED_IPS=127.0.0.1,your-office-ip

# ========================================
# Notes
# ========================================

# How to use this file:
# 1. Copy this file to .env.production
# 2. Replace all "your-*-here" values with your actual configuration
# 3. Never commit the actual .env.production file to version control
# 4. Use a secure secret management system in production
# 5. Regularly rotate sensitive keys and tokens

# Security Checklist:
# □ All secrets are unique and strong
# □ Database password is complex
# □ JWT secret is cryptographically secure
# □ SMS credentials are properly secured
# □ Rate limiting is enabled
# □ Monitoring is configured
# □ Backup is configured
# □ SSL certificates are valid
# □ CORS is properly configured
# □ Security headers are enabled