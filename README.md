# YesLocker - å°çƒæ†æŸœç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªç°ä»£åŒ–çš„å°çƒæ†æŸœæ•°å­—åŒ–ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ç«¯ç”³è¯·ã€ç®¡ç†ç«¯å®¡æ ¸ã€å­˜å–æ“ä½œè®°å½•ç­‰å®Œæ•´ä¸šåŠ¡æµç¨‹ã€‚

ğŸŒ **åœ¨çº¿è®¿é—®**: [https://yeslocker-web-production-314a.up.railway.app](https://yeslocker-web-production-314a.up.railway.app)

## é¡¹ç›®æ¦‚è¿°

- **é¡¹ç›®åç§°**: YesLocker - å°çƒæ†æŸœç®¡ç†ç³»ç»Ÿ
- **æŠ€æœ¯æ¶æ„**: Vue 3 + Express.js + PostgreSQL + Railway
- **éƒ¨ç½²å¹³å°**: Railway
- **ç›®æ ‡ç”¨æˆ·**: å°çƒå…é¡¾å®¢ã€é—¨åº—ç®¡ç†å‘˜ã€æ€»éƒ¨ç®¡ç†å‘˜

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Vue 3 + TypeScript + Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UIç»„ä»¶**: è‡ªå®šä¹‰Vueç»„ä»¶
- **æ ·å¼**: SCSS + å“åº”å¼è®¾è®¡
- **æ„å»ºå·¥å…·**: Vite

### åç«¯æŠ€æœ¯
- **APIæ¡†æ¶**: Express.js
- **æ•°æ®åº“**: PostgreSQL (Railwayæ‰˜ç®¡)
- **è®¤è¯**: JWT + bcrypt
- **éƒ¨ç½²**: Railwayè‡ªåŠ¨éƒ¨ç½²

### å¼€å‘å·¥å…·
- **è¯­è¨€**: TypeScript + JavaScript
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub
- **CI/CD**: Railwayè‡ªåŠ¨éƒ¨ç½²
- **åŒ…ç®¡ç†**: npm

## é¡¹ç›®ç»“æ„

```
yeslocker/
â”œâ”€â”€ src/                    # ç”¨æˆ·ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ components/        # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ stores/            # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/          # APIæœåŠ¡å±‚
â”‚   â”œâ”€â”€ router/            # Vue Routeré…ç½®
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ admin/                 # ç®¡ç†ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/         # ç®¡ç†ç«¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/ # æ•°æ®é¢æ¿ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ lockers/   # æ†æŸœç®¡ç† âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ users/     # ç”¨æˆ·ç®¡ç† âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ applications/ # ç”³è¯·å®¡æ ¸ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ records/   # æ“ä½œè®°å½• âœ…
â”‚   â”‚   â”‚   â””â”€â”€ settings/  # ç³»ç»Ÿè®¾ç½® âœ…
â”‚   â”‚   â”œâ”€â”€ stores/        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/      # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ components/    # ç®¡ç†ç«¯ç»„ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ server/                # Express.jsåç«¯
â”‚   â”œâ”€â”€ index-railway.js   # Railwayç”Ÿäº§æœåŠ¡å™¨
â”‚   â”œâ”€â”€ express-server.js  # æœ¬åœ°å¼€å‘æœåŠ¡å™¨
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ tools/                 # éƒ¨ç½²å’Œç›‘æ§å·¥å…·
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 8.0.0
- PostgreSQL (ç”Ÿäº§ç¯å¢ƒï¼ŒRailwayæä¾›)

### æœ¬åœ°å¼€å‘å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/muzhihao1/yeslocker-web.git
cd yeslocker-web-simplified

# å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å®‰è£…ç®¡ç†ç«¯ä¾èµ–
cd admin && npm install && cd ..

# å®‰è£…æœåŠ¡ç«¯ä¾èµ–
cd server && npm install && cd ..
```

### ç¯å¢ƒé…ç½®

åˆ›å»ºæœåŠ¡ç«¯ç¯å¢ƒå˜é‡æ–‡ä»¶ `server/.env`:

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=your_postgresql_url

# JWTå¯†é’¥
JWT_SECRET=your_jwt_secret_key

# æœåŠ¡ç«¯å£
PORT=3001

# ç¯å¢ƒ
NODE_ENV=development
```

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆæ¨èï¼‰
npm run dev:all

# æˆ–å•ç‹¬å¯åŠ¨å„æœåŠ¡
npm run dev          # ç”¨æˆ·ç«¯ (ç«¯å£: 3000)
npm run dev:admin    # ç®¡ç†ç«¯ (ç«¯å£: 5173)
npm run dev:server   # APIæœåŠ¡ (ç«¯å£: 3001)

# æ•°æ®åº“åˆå§‹åŒ–
npm run db:init
```

## ç”Ÿäº§éƒ¨ç½² (Railway)

### è‡ªåŠ¨éƒ¨ç½²

é¡¹ç›®å·²é…ç½®Railwayè‡ªåŠ¨éƒ¨ç½²ï¼Œæ¨é€åˆ°mainåˆ†æ”¯å³å¯è‡ªåŠ¨éƒ¨ç½²ï¼š

```bash
git push origin main
```

### Railwayé…ç½®

**ç¯å¢ƒå˜é‡ï¼š**
- `DATABASE_URL`: Railway PostgreSQLè¿æ¥ä¸² (è‡ªåŠ¨æä¾›)
- `JWT_SECRET`: JWTç­¾åå¯†é’¥
- `NODE_ENV`: production

**éƒ¨ç½²å‘½ä»¤ï¼š**
```json
{
  "build": {
    "command": "npm run build && cd admin && npm run build && cd ../server && npm install"
  },
  "start": {
    "command": "cd server && npm run start:railway"
  }
}
```

## åŠŸèƒ½çŠ¶æ€

### ç”¨æˆ·ç«¯åŠŸèƒ½
- âœ… ç”¨æˆ·æ³¨å†Œç™»å½• (æ‰‹æœºå·éªŒè¯)
- âœ… æ†æŸœç”³è¯·æµç¨‹
- ğŸ”„ å­˜å–æ†æ“ä½œ (å¼€å‘ä¸­)
- ğŸ“‹ å†å²è®°å½•æŸ¥è¯¢ (å¾…å¼€å‘)
- ğŸ”” é€šçŸ¥ç³»ç»Ÿ (å¾…å¼€å‘)

### ç®¡ç†ç«¯åŠŸèƒ½ 
- âœ… ç®¡ç†å‘˜ç™»å½•è®¤è¯
- âœ… æ•°æ®é¢æ¿ç»Ÿè®¡ (3å¾…å®¡æ ¸ã€2å ç”¨ã€6ç”¨æˆ·)
- âœ… æ†æŸœçŠ¶æ€ç®¡ç† (18ä¸ªæ†æŸœã€é—¨åº—ç­›é€‰ã€çŠ¶æ€æ“ä½œ)
- âœ… æ–°å¢æ†æŸœåŠŸèƒ½
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… ç”³è¯·å®¡æ ¸ç®¡ç†
- âœ… æ“ä½œè®°å½•æŸ¥è¯¢
- âœ… ç³»ç»Ÿè®¾ç½®ç®¡ç† (çŸ­ä¿¡ã€å¤‡ä»½ã€æ¨¡æ¿)

### APIåŠŸèƒ½
- âœ… ç”¨æˆ·è®¤è¯API (æ³¨å†Œã€ç™»å½•)
- âœ… ç®¡ç†å‘˜è®¤è¯API (JWT + bcrypt)
- âœ… é—¨åº—æ†æŸœAPI (CRUDæ“ä½œ)
- âœ… ç”³è¯·å®¡æ ¸API (GET/POST)
- âœ… ç”¨æˆ·ç®¡ç†API (åˆ—è¡¨ã€æœç´¢ã€ç­›é€‰)
- âœ… æ“ä½œè®°å½•API (å†å²æŸ¥è¯¢)
- âœ… ç»Ÿè®¡æ•°æ®API (ä»ªè¡¨æ¿æ•°æ®)

## APIæ–‡æ¡£

### è®¤è¯ç›¸å…³
```
POST /api/admin-login        # ç®¡ç†å‘˜ç™»å½•
POST /auth-register          # ç”¨æˆ·æ³¨å†Œ  
POST /auth-login             # ç”¨æˆ·ç™»å½•
```

### ç®¡ç†ç«¯API
```
GET  /api/stores-lockers     # è·å–é—¨åº—å’Œæ†æŸœä¿¡æ¯
POST /api/admin-lockers      # åˆ›å»ºæ–°æ†æŸœ
PUT  /api/admin-lockers/:id  # æ›´æ–°æ†æŸœçŠ¶æ€
GET  /api/admin-users        # ç”¨æˆ·ç®¡ç†åˆ—è¡¨
GET  /api/admin-applications # ç”³è¯·å®¡æ ¸åˆ—è¡¨
POST /api/admin-approval     # å®¡æ ¸æ“ä½œ
GET  /api/admin-records      # æ“ä½œè®°å½•
GET  /api/admin-statistics   # ç»Ÿè®¡æ•°æ®
```

### æ•°æ®åº“API
```
GET  /api/db-test            # æ•°æ®åº“è¿æ¥æµ‹è¯•
POST /api/init-db            # æ•°æ®åº“åˆå§‹åŒ–
```

## æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨
- `users` - ç”¨æˆ·ä¿¡æ¯ (6æ¡æµ‹è¯•æ•°æ®)
- `stores` - é—¨åº—ä¿¡æ¯ (3ä¸ªé—¨åº—: æ——èˆ°åº—ã€åˆ†åº—Aã€åˆ†åº—B)
- `lockers` - æ†æŸœä¿¡æ¯ (18ä¸ªæ†æŸœï¼Œä¸åŒçŠ¶æ€)
- `locker_records` - æ“ä½œè®°å½•
- `admins` - ç®¡ç†å‘˜ (3ä¸ªç®¡ç†å‘˜è´¦æˆ·)
- `applications` - ç”³è¯·è®°å½• (6æ¡ç”³è¯·æ•°æ®)

### æ•°æ®åº“ç‰¹æ€§
- PostgreSQL 16.8 (Railwayæ‰˜ç®¡)
- è‡ªåŠ¨å¤‡ä»½å’Œæ¢å¤
- è¿æ¥æ± ä¼˜åŒ–
- æ”¯æŒå¹¶å‘è®¿é—®

## æµ‹è¯•è´¦å·

### ç®¡ç†ç«¯æµ‹è¯•è´¦å·
- **è¶…çº§ç®¡ç†å‘˜**: `13800000001` / `admin123`
- **é—¨åº—ç®¡ç†å‘˜**: `13800000002` / `admin123`
- **ç®¡ç†ç«¯è®¿é—®**: [/admin](https://yeslocker-web-production-314a.up.railway.app/admin)

### ç”¨æˆ·ç«¯æµ‹è¯•
- **æµ‹è¯•æ‰‹æœºå·**: `18669203134` ç­‰
- **éªŒè¯ç **: å¼€å‘ç¯å¢ƒæ— éœ€éªŒè¯

## å¼€å‘å‘½ä»¤

```bash
# å¼€å‘ç›¸å…³
npm run dev              # ç”¨æˆ·ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev:admin        # ç®¡ç†ç«¯å¼€å‘æœåŠ¡å™¨  
npm run dev:server       # åç«¯APIå¼€å‘æœåŠ¡å™¨
npm run dev:all          # å¯åŠ¨æ‰€æœ‰å¼€å‘æœåŠ¡å™¨

# æ„å»ºç›¸å…³
npm run build            # æ„å»ºæ‰€æœ‰åº”ç”¨
npm run build:client     # æ„å»ºç”¨æˆ·ç«¯
npm run build:admin      # æ„å»ºç®¡ç†ç«¯
npm run build:server     # å‡†å¤‡æœåŠ¡ç«¯

# æ•°æ®åº“ç›¸å…³
npm run db:init          # åˆå§‹åŒ–SQLiteæ•°æ®åº“
npm run db:migrate       # æ•°æ®åº“è¿ç§»

# ä»£ç è´¨é‡
npm run type-check       # TypeScriptç±»å‹æ£€æŸ¥
npm run lint             # ESLintä»£ç è§„èŒƒæ£€æŸ¥
```

## éƒ¨ç½²URL

### ç”Ÿäº§ç¯å¢ƒ
- **ä¸»åº”ç”¨**: https://yeslocker-web-production-314a.up.railway.app
- **ç®¡ç†ç«¯**: https://yeslocker-web-production-314a.up.railway.app/admin
- **APIåŸºåœ°å€**: https://yeslocker-web-production-314a.up.railway.app/api

### å¥åº·æ£€æŸ¥
- **æœåŠ¡çŠ¶æ€**: https://yeslocker-web-production-314a.up.railway.app/health
- **æ•°æ®åº“æµ‹è¯•**: https://yeslocker-web-production-314a.up.railway.app/api/db-test

## æŠ€æœ¯äº®ç‚¹

1. **ä¸‰å±‚æ¶æ„**: ç”¨æˆ·ç«¯ + ç®¡ç†ç«¯ + APIæœåŠ¡ç«¯åˆ†ç¦»
2. **ç°ä»£æŠ€æœ¯æ ˆ**: Vue 3 Composition API + TypeScript + Vite
3. **è‡ªåŠ¨åŒ–éƒ¨ç½²**: Railwayå¹³å°è‡ªåŠ¨CI/CD
4. **æ•°æ®åº“ä¼˜åŒ–**: PostgreSQLè¿æ¥æ±  + ç´¢å¼•ä¼˜åŒ–
5. **å®Œæ•´è®¤è¯**: JWT + bcryptå¯†ç å“ˆå¸Œ
6. **å“åº”å¼è®¾è®¡**: é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
7. **å®æ—¶æ•°æ®**: 18ä¸ªæ†æŸœå®æ—¶çŠ¶æ€ç®¡ç†
8. **æƒé™æ§åˆ¶**: å¤šçº§ç®¡ç†å‘˜æƒé™ä½“ç³»

## é¡¹ç›®çŠ¶æ€

**å½“å‰ç‰ˆæœ¬**: v1.0.0  
**å¼€å‘çŠ¶æ€**: ç”Ÿäº§å°±ç»ª âœ…  
**ç®¡ç†ç«¯å®Œæˆåº¦**: 95% (æ ¸å¿ƒåŠŸèƒ½å…¨éƒ¨æ­£å¸¸)  
**ç”¨æˆ·ç«¯å®Œæˆåº¦**: 60% (åŸºç¡€åŠŸèƒ½å·²å®ç°)  
**APIå®Œæˆåº¦**: 100% (æ‰€æœ‰ç«¯ç‚¹å·²å®ç°)  

## æ›´æ–°æ—¥å¿—

### æœ€æ–°æ›´æ–° (2025-01-12)
- âœ… å®ŒæˆRailway PostgreSQLæ•°æ®åº“éƒ¨ç½²
- âœ… å®ç°æ‰€æœ‰ç®¡ç†ç«¯APIç«¯ç‚¹
- âœ… ä¿®å¤JWTè®¤è¯ç³»ç»Ÿ
- âœ… å®Œå–„æ†æŸœç®¡ç†åŠŸèƒ½ (18ä¸ªæ†æŸœæ­£å¸¸æ˜¾ç¤º)
- âœ… å®ç°ç”¨æˆ·ç®¡ç†å’Œç”³è¯·å®¡æ ¸åŠŸèƒ½
- âœ… å®Œæˆæ•°æ®åº“ç§å­æ•°æ®åˆå§‹åŒ–

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

- **é¡¹ç›®ä»“åº“**: [GitHub](https://github.com/muzhihao1/yeslocker-web)
- **éƒ¨ç½²å¹³å°**: Railway
- **æ›´æ–°æ—¶é—´**: 2025-01-12

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„å°çƒæ†æŸœç®¡ç†ç³»ç»Ÿï¼Œæ ¸å¿ƒç®¡ç†åŠŸèƒ½å·²å…¨éƒ¨å®ç°å¹¶æ­£å¸¸è¿è¡Œã€‚